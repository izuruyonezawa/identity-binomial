# Dangers of estimating the adjusted risk difference from an identity-link generalised linear model

## Description
We summarise the simulation code used to produce the results presented in the main text and supplement. To avoid redundancy, we provide parameterised or example code where appropriate, and results from related simulations can be reproduced by varying parameters or datasets. However, we still selectively share code and simulation datasets for producing key results.

## Folders
### 01_Preliminary_analysis_Stata_R_SAS
Code for preliminary analysis using simple datasets in Stata, R and SAS.

### 02_Stata_main_analysis
#### 01_Data_generating_mechanisms
Data-generating mechanisms (DGMs) for each of the four scenarios with varying parameters.
#### 02_Simulation_examples
Nine selected example simulation codes to produce key findings.
#### 03_Measuring_performance
Code for measuring non-convergence rates, rates of implausibly small standard errors, and coverage for converged models.
#### 04_Exploratory_analysis
Code for exploring potential diagnostic criteria across the four scenarios. 
Simulation datasets used can be generated by running the example codes in `02_Simulation_examples`. These datasets, along with an additional explanatory Excel file used for Fig. S18, are also provided in the `04_Datasets` folder.
#### 05_Evaluating_diagnostics
Code showing the performance of proposed and failed diagnostics.
Simulation datasets used can be generated with codes in `02_Simulation_examples` and are also provided in the `04_Datasets` folder.

### 03_R_vs_Stata
Code for evaluating identity-binomial models in R, in comparison with the results from Stata. For a proper comparison, we use the same set of simulated datasets produced in Stata, using the DGM with the largest interaction in scenario 4 as an example. We also show the performance of the proposed diagnostic applied to the estimates from R. 

### 04_Datasets
Nine example simulation datasets generated from `02_Simulation_examples`, along with an additional explanatory Excel file used for Fig. S18. These datasets can be used directly for the measurement of model performance, exploratory analysis, and evaluation of diagnostics.
